{"ast":null,"code":"var _jsxFileName = \"D:\\\\Users\\\\Norman\\\\Dokumentumok\\\\CODE\\\\covid-stats-hungary\\\\client\\\\src\\\\components\\\\Main.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport Chart from './Chart';\nimport Home from './Home';\nimport FilterBox from './FilterBox';\nimport DataTable from './DataTable';\nimport { Switch, Route } from 'react-router-dom';\nimport Container from '@material-ui/core/Container';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles({\n  root: {\n    margin: 'auto'\n  }\n});\n\nconst Main = ({\n  records,\n  ageGroups,\n  timestamp\n}) => {\n  _s();\n\n  const [ageFilter, setAgeFilter] = useState([0, 120]);\n  const [sexFilter, setSexFilter] = useState('all');\n  const [comorbidityFilter, setComorbidityFilter] = useState('');\n  const [excludeWithComorbidity, setExcludeWithComorbidity] = useState(false);\n  const classes = useStyles();\n  const filteredRecords = records.filter(record => record.age >= ageFilter[0] && record.age <= ageFilter[1] && record.comorbidities.toLowerCase().includes(comorbidityFilter) && (excludeWithComorbidity ? record.comorbidities.toLowerCase().includes('nem ismert') : record) && (sexFilter === 'female' ? record.sex.toLowerCase().startsWith('n') : sexFilter === 'male' ? record.sex.toLowerCase().startsWith('f') : record));\n\n  const handleAgeFilterChange = (event, newRange) => {\n    setAgeFilter(newRange);\n  };\n\n  const handleSexFilterChange = event => {\n    setSexFilter(event.target.value);\n  };\n\n  const handleComorbidityFilterChange = event => {\n    setComorbidityFilter(event.target.value);\n  };\n\n  const toggleExcludeWithComorbidity = () => {\n    setComorbidityFilter('');\n    setExcludeWithComorbidity(!excludeWithComorbidity);\n  };\n\n  return /*#__PURE__*/_jsxDEV(Container, {\n    className: classes.root,\n    children: /*#__PURE__*/_jsxDEV(Switch, {\n      children: [/*#__PURE__*/_jsxDEV(Route, {\n        path: \"/chart\",\n        children: [/*#__PURE__*/_jsxDEV(FilterBox, {\n          ageFilter: ageFilter,\n          handleAgeFilterChange: handleAgeFilterChange,\n          sexFilter: sexFilter,\n          handleSexFilterChange: handleSexFilterChange,\n          comorbidityFilter: comorbidityFilter,\n          handleComorbidityFilterChange: handleComorbidityFilterChange,\n          excludeWithComorbidity: excludeWithComorbidity,\n          toggleExcludeWithComorbidity: toggleExcludeWithComorbidity\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Chart, {\n          filteredRecords: filteredRecords\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/datatable\",\n        children: [/*#__PURE__*/_jsxDEV(FilterBox, {\n          ageFilter: ageFilter,\n          handleAgeFilterChange: handleAgeFilterChange,\n          sexFilter: sexFilter,\n          handleSexFilterChange: handleSexFilterChange,\n          comorbidityFilter: comorbidityFilter,\n          handleComorbidityFilterChange: handleComorbidityFilterChange,\n          excludeWithComorbidity: excludeWithComorbidity,\n          toggleExcludeWithComorbidity: toggleExcludeWithComorbidity\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(DataTable, {\n          filteredRecords: filteredRecords,\n          ageFilter: ageFilter,\n          sexFilter: sexFilter,\n          comorbidityFilter: comorbidityFilter,\n          excludeWithComorbidity: excludeWithComorbidity\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/\",\n        children: /*#__PURE__*/_jsxDEV(Home, {\n          records: records,\n          timestamp: timestamp\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 62,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Main, \"fO2i1YIX2gHVliSJagCYrI8n95M=\", false, function () {\n  return [useStyles];\n});\n\n_c = Main;\nexport default Main;\n\nvar _c;\n\n$RefreshReg$(_c, \"Main\");","map":{"version":3,"sources":["D:/Users/Norman/Dokumentumok/CODE/covid-stats-hungary/client/src/components/Main.js"],"names":["React","useState","Chart","Home","FilterBox","DataTable","Switch","Route","Container","makeStyles","useStyles","root","margin","Main","records","ageGroups","timestamp","ageFilter","setAgeFilter","sexFilter","setSexFilter","comorbidityFilter","setComorbidityFilter","excludeWithComorbidity","setExcludeWithComorbidity","classes","filteredRecords","filter","record","age","comorbidities","toLowerCase","includes","sex","startsWith","handleAgeFilterChange","event","newRange","handleSexFilterChange","target","value","handleComorbidityFilterChange","toggleExcludeWithComorbidity"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\r\nimport Chart from './Chart'\r\nimport Home from './Home'\r\nimport FilterBox from './FilterBox'\r\nimport DataTable from './DataTable'\r\nimport { Switch, Route } from 'react-router-dom'\r\nimport Container from '@material-ui/core/Container'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\n\r\nconst useStyles = makeStyles({\r\n  root: {\r\n    margin: 'auto',\r\n  },\r\n})\r\n\r\n\r\nconst Main = ({ records, ageGroups, timestamp }) => {\r\n  const [ageFilter, setAgeFilter] = useState([0, 120])\r\n  const [sexFilter, setSexFilter] = useState('all')\r\n  const [comorbidityFilter, setComorbidityFilter] = useState('')\r\n  const [excludeWithComorbidity, setExcludeWithComorbidity] = useState(false)\r\n \r\n  const classes = useStyles()\r\n  \r\n  const filteredRecords = records\r\n    .filter(record => \r\n      (record.age >= ageFilter[0] \r\n        && record.age <= ageFilter[1]\r\n        && record.comorbidities.toLowerCase().includes(comorbidityFilter)\r\n        && ((excludeWithComorbidity)\r\n          ? record.comorbidities.toLowerCase().includes('nem ismert')\r\n          : record\r\n        )\r\n\r\n        && ((sexFilter === 'female') \r\n          ? record.sex.toLowerCase().startsWith('n')\r\n          : (sexFilter === 'male') \r\n          ? record.sex.toLowerCase().startsWith('f')\r\n          : record\r\n        )\r\n      )\r\n    )\r\n\r\n  const handleAgeFilterChange = (event, newRange) => {\r\n    setAgeFilter(newRange)\r\n  }\r\n\r\n  const handleSexFilterChange = (event) => {\r\n    setSexFilter(event.target.value)\r\n  }\r\n\r\n  const handleComorbidityFilterChange = (event) => {\r\n    setComorbidityFilter(event.target.value)\r\n  }\r\n\r\n  const toggleExcludeWithComorbidity = () => {\r\n    setComorbidityFilter('')\r\n    setExcludeWithComorbidity(!excludeWithComorbidity)\r\n  }\r\n\r\n  return (\r\n    <Container className={classes.root}>\r\n      <Switch>\r\n        <Route path=\"/chart\">\r\n          <FilterBox \r\n            ageFilter={ageFilter}\r\n            handleAgeFilterChange={handleAgeFilterChange}\r\n            sexFilter={sexFilter}\r\n            handleSexFilterChange={handleSexFilterChange}\r\n            comorbidityFilter={comorbidityFilter}\r\n            handleComorbidityFilterChange={handleComorbidityFilterChange}\r\n            excludeWithComorbidity={excludeWithComorbidity}\r\n            toggleExcludeWithComorbidity={toggleExcludeWithComorbidity}\r\n          />\r\n          <Chart \r\n            filteredRecords={filteredRecords}\r\n          />\r\n        </Route>\r\n        <Route path='/datatable'>\r\n          <FilterBox \r\n            ageFilter={ageFilter}\r\n            handleAgeFilterChange={handleAgeFilterChange}\r\n            sexFilter={sexFilter}\r\n            handleSexFilterChange={handleSexFilterChange}\r\n            comorbidityFilter={comorbidityFilter}\r\n            handleComorbidityFilterChange={handleComorbidityFilterChange}\r\n            excludeWithComorbidity={excludeWithComorbidity}\r\n            toggleExcludeWithComorbidity={toggleExcludeWithComorbidity}\r\n          />\r\n          <DataTable \r\n            filteredRecords={filteredRecords}\r\n            ageFilter={ageFilter}\r\n            sexFilter={sexFilter}\r\n            comorbidityFilter={comorbidityFilter}\r\n            excludeWithComorbidity={excludeWithComorbidity}\r\n          />\r\n        </Route>\r\n        <Route path=\"/\">\r\n          <Home records={records} timestamp={timestamp} />\r\n        </Route>\r\n      </Switch>\r\n    </Container>\r\n  )\r\n}\r\n\r\nexport default Main"]},"metadata":{},"sourceType":"module"}
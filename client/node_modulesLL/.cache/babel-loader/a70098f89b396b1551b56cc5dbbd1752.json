{"ast":null,"code":"import _slicedToArray from\"D:/Users/Norman/Dokumentumok/CODE/covid-stats-hungary/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import Chart from'./Chart';import Home from'./Home';import FilterBox from'./FilterBox';import DataTable from'./DataTable';import{Switch,Route}from'react-router-dom';import Container from'@material-ui/core/Container';import{makeStyles}from'@material-ui/core/styles';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var useStyles=makeStyles({root:{margin:'auto'}});var Main=function Main(_ref){var records=_ref.records,ageGroups=_ref.ageGroups,timestamp=_ref.timestamp;var _useState=useState([0,120]),_useState2=_slicedToArray(_useState,2),ageFilter=_useState2[0],setAgeFilter=_useState2[1];var _useState3=useState('all'),_useState4=_slicedToArray(_useState3,2),sexFilter=_useState4[0],setSexFilter=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),comorbidityFilter=_useState6[0],setComorbidityFilter=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),excludeWithComorbidity=_useState8[0],setExcludeWithComorbidity=_useState8[1];var classes=useStyles();var filteredRecords=records.filter(function(record){return record.age>=ageFilter[0]&&record.age<=ageFilter[1]&&record.comorbidities.toLowerCase().includes(comorbidityFilter)&&(excludeWithComorbidity?record.comorbidities.toLowerCase().includes('nem ismert'):record)&&(sexFilter==='female'?record.sex.toLowerCase().startsWith('n'):sexFilter==='male'?record.sex.toLowerCase().startsWith('f'):record);});var handleAgeFilterChange=function handleAgeFilterChange(event,newRange){setAgeFilter(newRange);};var handleSexFilterChange=function handleSexFilterChange(event){setSexFilter(event.target.value);};var handleComorbidityFilterChange=function handleComorbidityFilterChange(event){setComorbidityFilter(event.target.value);};var toggleExcludeWithComorbidity=function toggleExcludeWithComorbidity(){setComorbidityFilter('');setExcludeWithComorbidity(!excludeWithComorbidity);};return/*#__PURE__*/_jsx(Container,{className:classes.root,children:/*#__PURE__*/_jsxs(Switch,{children:[/*#__PURE__*/_jsxs(Route,{path:\"/chart\",children:[/*#__PURE__*/_jsx(FilterBox,{ageFilter:ageFilter,handleAgeFilterChange:handleAgeFilterChange,sexFilter:sexFilter,handleSexFilterChange:handleSexFilterChange,comorbidityFilter:comorbidityFilter,handleComorbidityFilterChange:handleComorbidityFilterChange,excludeWithComorbidity:excludeWithComorbidity,toggleExcludeWithComorbidity:toggleExcludeWithComorbidity}),/*#__PURE__*/_jsx(Chart,{filteredRecords:filteredRecords})]}),/*#__PURE__*/_jsxs(Route,{path:\"/datatable\",children:[/*#__PURE__*/_jsx(FilterBox,{ageFilter:ageFilter,handleAgeFilterChange:handleAgeFilterChange,sexFilter:sexFilter,handleSexFilterChange:handleSexFilterChange,comorbidityFilter:comorbidityFilter,handleComorbidityFilterChange:handleComorbidityFilterChange,excludeWithComorbidity:excludeWithComorbidity,toggleExcludeWithComorbidity:toggleExcludeWithComorbidity}),/*#__PURE__*/_jsx(DataTable,{filteredRecords:filteredRecords,ageFilter:ageFilter,sexFilter:sexFilter,comorbidityFilter:comorbidityFilter,excludeWithComorbidity:excludeWithComorbidity})]}),/*#__PURE__*/_jsx(Route,{path:\"/\",children:/*#__PURE__*/_jsx(Home,{records:records,timestamp:timestamp})})]})});};export default Main;","map":{"version":3,"sources":["D:/Users/Norman/Dokumentumok/CODE/covid-stats-hungary/client/src/components/Main.js"],"names":["React","useState","Chart","Home","FilterBox","DataTable","Switch","Route","Container","makeStyles","useStyles","root","margin","Main","records","ageGroups","timestamp","ageFilter","setAgeFilter","sexFilter","setSexFilter","comorbidityFilter","setComorbidityFilter","excludeWithComorbidity","setExcludeWithComorbidity","classes","filteredRecords","filter","record","age","comorbidities","toLowerCase","includes","sex","startsWith","handleAgeFilterChange","event","newRange","handleSexFilterChange","target","value","handleComorbidityFilterChange","toggleExcludeWithComorbidity"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\r\nimport Chart from './Chart'\r\nimport Home from './Home'\r\nimport FilterBox from './FilterBox'\r\nimport DataTable from './DataTable'\r\nimport { Switch, Route } from 'react-router-dom'\r\nimport Container from '@material-ui/core/Container'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\n\r\nconst useStyles = makeStyles({\r\n  root: {\r\n    margin: 'auto',\r\n  },\r\n})\r\n\r\n\r\nconst Main = ({ records, ageGroups, timestamp }) => {\r\n  const [ageFilter, setAgeFilter] = useState([0, 120])\r\n  const [sexFilter, setSexFilter] = useState('all')\r\n  const [comorbidityFilter, setComorbidityFilter] = useState('')\r\n  const [excludeWithComorbidity, setExcludeWithComorbidity] = useState(false)\r\n \r\n  const classes = useStyles()\r\n  \r\n  const filteredRecords = records\r\n    .filter(record => \r\n      (record.age >= ageFilter[0] \r\n        && record.age <= ageFilter[1]\r\n        && record.comorbidities.toLowerCase().includes(comorbidityFilter)\r\n        && ((excludeWithComorbidity)\r\n          ? record.comorbidities.toLowerCase().includes('nem ismert')\r\n          : record\r\n        )\r\n\r\n        && ((sexFilter === 'female') \r\n          ? record.sex.toLowerCase().startsWith('n')\r\n          : (sexFilter === 'male') \r\n          ? record.sex.toLowerCase().startsWith('f')\r\n          : record\r\n        )\r\n      )\r\n    )\r\n\r\n  const handleAgeFilterChange = (event, newRange) => {\r\n    setAgeFilter(newRange)\r\n  }\r\n\r\n  const handleSexFilterChange = (event) => {\r\n    setSexFilter(event.target.value)\r\n  }\r\n\r\n  const handleComorbidityFilterChange = (event) => {\r\n    setComorbidityFilter(event.target.value)\r\n  }\r\n\r\n  const toggleExcludeWithComorbidity = () => {\r\n    setComorbidityFilter('')\r\n    setExcludeWithComorbidity(!excludeWithComorbidity)\r\n  }\r\n\r\n  return (\r\n    <Container className={classes.root}>\r\n      <Switch>\r\n        <Route path=\"/chart\">\r\n          <FilterBox \r\n            ageFilter={ageFilter}\r\n            handleAgeFilterChange={handleAgeFilterChange}\r\n            sexFilter={sexFilter}\r\n            handleSexFilterChange={handleSexFilterChange}\r\n            comorbidityFilter={comorbidityFilter}\r\n            handleComorbidityFilterChange={handleComorbidityFilterChange}\r\n            excludeWithComorbidity={excludeWithComorbidity}\r\n            toggleExcludeWithComorbidity={toggleExcludeWithComorbidity}\r\n          />\r\n          <Chart \r\n            filteredRecords={filteredRecords}\r\n          />\r\n        </Route>\r\n        <Route path='/datatable'>\r\n          <FilterBox \r\n            ageFilter={ageFilter}\r\n            handleAgeFilterChange={handleAgeFilterChange}\r\n            sexFilter={sexFilter}\r\n            handleSexFilterChange={handleSexFilterChange}\r\n            comorbidityFilter={comorbidityFilter}\r\n            handleComorbidityFilterChange={handleComorbidityFilterChange}\r\n            excludeWithComorbidity={excludeWithComorbidity}\r\n            toggleExcludeWithComorbidity={toggleExcludeWithComorbidity}\r\n          />\r\n          <DataTable \r\n            filteredRecords={filteredRecords}\r\n            ageFilter={ageFilter}\r\n            sexFilter={sexFilter}\r\n            comorbidityFilter={comorbidityFilter}\r\n            excludeWithComorbidity={excludeWithComorbidity}\r\n          />\r\n        </Route>\r\n        <Route path=\"/\">\r\n          <Home records={records} timestamp={timestamp} />\r\n        </Route>\r\n      </Switch>\r\n    </Container>\r\n  )\r\n}\r\n\r\nexport default Main"]},"metadata":{},"sourceType":"module"}